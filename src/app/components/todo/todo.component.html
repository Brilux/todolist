<div class="wrapper">
  <p class="welcome-title" *ngIf="!tasks.length">
    Hi! Welcome to your ToDo!
    You don't have any Todos. You can add it using button
  </p>
  <div class="button-container">
    <button class="create-button" mat-raised-button color="primary" (click)="isCreate = !isCreate">Create new ToDo
    </button>
  </div>
  <form class="form-container" *ngIf="isCreate" [formGroup]="form" (ngSubmit)="createTask()">
    <mat-form-field>
      <input matInput formControlName="task" placeholder="Enter the title of ToDo">
    </mat-form-field>
    <mat-form-field>
        <textarea matInput formControlName="description"
                  placeholder="Enter description (not necessary)"></textarea>
    </mat-form-field>
    <div class="button-container">
      <button class="create-button" mat-raised-button color="primary" [disabled]="!form.valid">Create ToDo</button>
    </div>
  </form>
</div>

<div>
  <ul class="task-list-container">
    <mat-card class="task-list" *ngFor="let task of taskFiltered(); let taskIndex = index"
              [class.complete]="task.complete">
      <div class="task-icon-container">
        <button class="task-icon" mat-icon-button *ngIf="!task.complete" [routerLink]="[ '/task-edit' ]"
                (click)="indexForEdit(taskIndex)">
          <mat-icon>border_color</mat-icon>
        </button>
        <button class="task-icon" mat-icon-button (click)="deleteTask(taskIndex)">
          <mat-icon>clear</mat-icon>
        </button>
      </div>
      <div class="task-item-container" (click)="toggle(task, taskIndex)">
        <span class="task-item-title">{{task.title}}</span>
        <span class="task-item-description">{{task.description}}</span>
        <span class="task-item-time">Time: {{task.date}}</span>
      </div>
    </mat-card>
  </ul>
  <div class="task-filter-container" *ngIf="tasks.length">
    <button mat-raised-button color="primary" (click)="filter='all'">All</button>
    <button mat-raised-button color="primary" (click)="filter='active'">Active</button>
    <button mat-raised-button color="primary" (click)="filter='completed'">Completed</button>
  </div>
</div>
